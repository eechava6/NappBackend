read A, b
(n, m) = size(A)
a = augmentedMatrix(A, b)
if n = m then
	for i = 1 to n
		trace(i) = i
	end for
	for k = 1 to n - 1
		major = 0
		rowm = k
		columnm = k
		for p = k to n
			for p = k to n
				for r = k to n
					if major < |apr| then
						major = |apr|
						rowm = p
						columnm = r
					end if
				end for
			end for
			if major = 0 then
				process ended, infinite solutions
			else
				if rowm != k then
					for j = 1 to n + 1
						aux = a(k, j)
						a(k, j) = a(rowm, j)
						a(rowm, j) = aux
					end for
				end if
				if columnm != k then
					for i = 1 to n
						aux = a(i, k)
						a(i, k) = a(i, columnm)
						a(i, columnm) = aux
					end for
					aux = trace(k)
					trace(k) = trace(columnm)
					trace(columnm) = aux
				end if
			end if
			for i = k + 1 to n
				mik = aik / akk
				for j = k to n + 1
					aij = aij - mikakj
				end for
			end for
		end for
		for i = n to 1
			sum = 0
			for p = i + 1 to n
				sum = sum + aipxp
			end for
			xi = (bi - sum) / aii
		end for
		for i = n to 1
			for j = 1 to n
				if trace(j) = i then
					k = j
				end if
			end for
			aux = x(k)
			x(k) = x(i)
			x(i) = aux
			aux = trace(k)
			trace(k) = trace(i)
			trace(i) = aux
		end for
	else
		matrix isn't square
	end if
	print a
	print x
